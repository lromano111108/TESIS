@model  List<RubricaWeb.ViewModels.VM_LibretaEstudiante>

@{
    ViewBag.Title = "LibretaEstudiante";
    Layout = "~/Views/Shared/_Layout.cshtml";
    RubricaWeb.Models.Estudiante estudiante = ViewBag.Estudiante;
    List<RubricaWeb.ViewModels.VM_ReporteEstudiante> temasAdeudados = (List<RubricaWeb.ViewModels.VM_ReporteEstudiante>)ViewBag.TemasAdeudados;
}

<link href="~/Content/impresionLista.css" rel="stylesheet" />









<div class="container-fluid align-items-center justify-content-center">
    <div class="jumbotron-fluid" style="background-color:rgba(255, 255, 255, 0.82)">
        <p class="h1 font-weight-bolder text-secondary"> Estudiante: @estudiante.ApellidoEstudiante , @estudiante.NombreEstudiante </p>
        <p class="h4 font-weight-bolder"> Curso: @Model[0].Curso </p>
    </div>
    <div class="row justify-content-center ">
        <div class="col-12">
            <table class="table bg-light border-1 table-hover table-responsive-xl text-center">

                <thead class="justify-content-center thead-dark">
                    <tr>
                        <th scope="row">N°</th>
                        <th scope="col" class="col-3"> ESPACIO CURRICULAR</th>
                        <th scope="col">TEMA 1</th>
                        <th scope="col">TEMA 2</th>
                        <th scope="col">TEMA 3</th>
                        <th scope="col">TEMA 4</th>
                        <th scope="col">TEMA 5</th>
                        <th scope="col">TEMA 6</th>
                        <th scope="col">TEMA 7</th>
                        <th scope="col">TEMA 8</th>
                        <th scope="col">TEMA 9</th>
                        <th scope="col">TEMA 10</th>
                        <th scope="col">TEMA 11</th>
                        <th scope="col">TEMA 12</th>
                        <th scope="col">CONDICION</th>
                        <th scope="col">PROMEDIO</th>
                    </tr>
                </thead>
                <tbody class="text-center ">
                    @{ int nros = 1;
                        for (int i = 0; i < Model.Count; i++)
                        {
                            <tr class="">
                                <td scope="row">@(nros ++)</td>

                                <td class="align-content-center">@(Model[i].Materia)</td>


                                @if (Model[i].Nota1 < 7)
                                {
                                    if (Model[i].Nota1 > 0)
                                    {
                                        <td class=" col-1  col-xs-1 font-weight-bolder text-danger"> @(Model[i].Nota1.ToString())</td>
                                    }
                                    else
                                    {
                                        <td class="col-1 col-xs-1  "></td>
                                    }
                                }
                                else
                                {
                                    <td class="col-1   col-xs-1">  @(Model[i].Nota1.ToString())</td>
                                }

                                @if (Model[i].Nota2 < 7)
                                {
                                    if (Model[i].Nota2 > 0)
                                    {
                                        <td class=" col-1  col-xs-1 font-weight-bolder text-danger"> @(Model[i].Nota2.ToString())</td>
                                    }
                                    else
                                    {
                                        <td class="col-1   col-xs-1  "></td>
                                    }
                                }
                                else
                                {
                                    <td class="col-1   col-xs-1">  @(Model[i].Nota2.ToString())</td>
                                }

                                @if (Model[i].Nota3 < 7)
                                {
                                    if (Model[i].Nota3 > 0)
                                    {
                                        <td class=" col-1  col-xs-1  font-weight-bolder text-danger"> @(Model[i].Nota3.ToString())</td>
                                    }
                                    else
                                    {
                                        <td class="col-1   col-xs-1    "></td>
                                    }
                                }
                                else
                                {
                                    <td class="col-1   col-xs-1   "> @(Model[i].Nota3.ToString())</td>
                                }

                                @if (Model[i].Nota4 < 7)
                                {
                                    if (Model[i].Nota4 > 0)
                                    {
                                        <td class=" col-1  col-xs-1 font-weight-bolder  text-danger"> @(Model[i].Nota4.ToString())</td>
                                    }
                                    else
                                    {
                                        <td class="col-1   col-xs-1   "></td>
                                    }
                                }
                                else
                                {
                                    <td class="col-1   col-xs-1   "> @(Model[i].Nota4.ToString())</td>
                                }


                                @if (Model[i].Nota5 < 7)
                                {
                                    if (Model[i].Nota5 > 0)
                                    {
                                        <td class=" col-1  col-xs-1  font-weight-bolder text-danger"> @(Model[i].Nota5.ToString())</td>
                                    }
                                    else
                                    {
                                        <td class="col-1   col-xs-1  r "></td>
                                    }
                                }
                                else
                                {
                                    <td class="col-1   col-xs-1     "> @(Model[i].Nota5.ToString())</td>
                                }

                                @if (Model[i].Nota6 < 7)
                                {
                                    if (Model[i].Nota6 > 0)
                                    {
                                        <td class=" col-1  col-xs-1 font-weight-bolder  text-danger"> @(Model[i].Nota6.ToString())</td>
                                    }
                                    else
                                    {
                                        <td class="col-1   col-xs-1   "></td>
                                    }
                                }
                                else
                                {
                                    <td class="col-1   col-xs-1    "> @(Model[i].Nota6.ToString())</td>
                                }

                                @if (Model[i].Nota7 < 7)
                                {
                                    if (Model[i].Nota7 > 0)
                                    {
                                        <td class=" col-1  col-xs-1 font-weight-bolder text-danger"> @(Model[i].Nota7.ToString())</td>
                                    }
                                    else
                                    {
                                        <td class="col-1   col-xs-1    "></td>
                                    }
                                }
                                else
                                {
                                    <td class="col-1   col-xs-1    "> @(Model[i].Nota7.ToString())</td>
                                }


                                @if (Model[i].Nota8 < 7)
                                {
                                    if (Model[i].Nota8 > 0)
                                    {
                                        <td class=" col-1  col-xs-1 font-weight-bolder  text-danger"> @(Model[i].Nota8.ToString())</td>
                                    }
                                    else
                                    {
                                        <td class="col-1   col-xs-1  "></td>
                                    }
                                }
                                else
                                {
                                    <td class="col-1   col-xs-1     "> @(Model[i].Nota8.ToString())</td>
                                }


                                @if (Model[i].Nota9 < 7)
                                {
                                    if (Model[i].Nota9 > 0)
                                    {
                                        <td class=" col-1  col-xs-1 font-weight-bolder text-danger"> @(Model[i].Nota9.ToString())</td>
                                    }
                                    else
                                    {
                                        <td class="col-1   col-xs-1    "></td>
                                    }
                                }
                                else
                                {
                                    <td class="col-1   col-xs-1     "> @(Model[i].Nota9.ToString())</td>
                                }


                                @if (Model[i].Nota10 < 7)
                                {
                                    if (Model[i].Nota10 > 0)
                                    {
                                        <td class=" col-1  col-xs-1 font-weight-bolder  text-danger"> @(Model[i].Nota10.ToString())</td>
                                    }
                                    else
                                    {
                                        <td class="col-1   col-xs-1   "></td>
                                    }
                                }
                                else
                                {
                                    <td class="col-1   col-xs-1     "> @(Model[i].Nota10.ToString())</td>
                                }

                                @if (Model[i].Nota11 < 7)
                                {
                                    if (Model[i].Nota11 > 0)
                                    {
                                        <td class=" col-1  col-xs-1  font-weight-bolder text-danger"> @(Model[i].Nota11.ToString())</td>
                                    }
                                    else
                                    {
                                        <td class="col-1   col-xs-1   "></td>
                                    }
                                }
                                else
                                {
                                    <td class="col-1   col-xs-1    "> @(Model[i].Nota11.ToString())</td>
                                }


                                @if (Model[i].Nota12 < 7)
                                {
                                    if (Model[i].Nota12 > 0)
                                    {
                                        <td class=" col-1  col-xs-1 font-weight-bolder text-danger"> @(Model[i].Nota12.ToString())</td>
                                    }
                                    else
                                    {
                                        <td class="col-1   col-xs-1    "></td>
                                    }
                                }
                                else
                                {
                                    <td class="col-1   col-xs-1     "> @(Model[i].Nota12.ToString())</td>
                                }


                                @if (Model[i].Condicion)
                                {
                                    <td class="col-1  col-xs-1     font-weight-bold text-success "> REGULAR  </td>
                                }
                                else
                                {
                                    <td class=" col-1 col-xs-1     text-danger font-weight-bold "> COLOQUIO</td>
                                }

                                @if (Model[i].Condicion & !(Model[i].Promedio.Equals(0)))
                                {
                                    <td class=" col-1 col-xs-1    font-weight-bold  "> @(Model[i].Promedio.ToString())  </td>
                                }
                                else
                                {
                                    <td class=" col-1  col-xs-1   font-weight-bold "> </td>
                                }
                            </tr>
                        }
                    }
                </tbody>
            </table>

        </div>

    </div>

    <div class="row text-center align-items-center d-flex">
        <div class="col-12">
            <a class="btn  bg-light rounded-circle" href="@Url.Action("Print", "Reporte", new {  @idEstudiante =estudiante.IdEstudiante})"><i class="text-primary fas fa-print fa-4x"></i></a>

        </div>

    </div>


    <div class="row">
        <div class="card-body m-1 " style="background-color:rgba(255, 255, 255, 0.82)">

            <h3 class="text-center">
                Temas Adeudados
            </h3>
            <h6 class="text-center">
                cantidad: @temasAdeudados.Count()
            </h6>

            @foreach (var materia in temasAdeudados)
            {
                bool bandera = true;

                if (bandera)
                {
                    <h4><b>Materia: </b>@materia.materia </h4>
                    <h6><b>N° Tema: </b> @materia.idNroTema </h6>
                    <p><b>Tema: </b> @materia.descripcionTema </p>
                    bandera = false;
                }
                else
                {
                    <hr class="border-2" />
                    <h4><b>Materia: </b>@materia.materia </h4>
                    <h5><b>N° Tema: </b> @materia.idNroTema </h5>
                    <p><b>Tema: </b> @materia.descripcionTema </p>
                }
            }
        </div>
    </div>


</div>